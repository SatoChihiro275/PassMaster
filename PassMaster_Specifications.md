## PassMaster 仕様設計

### 作成日
- **作成日**: 2024年8月24日

### バージョン管理
- **バージョン**: 1.1.0
- **変更履歴**:
  - **1.0.0**: 初回リリース
  - **1.1.0**: パスワード強度評価機能、暗号化保存機能、ユーザー認証機能を追加

### 概要
**PassMaster**は、パスワードの生成と管理を行うためのGUIアプリケーションです。ユーザーは、指定した条件に基づいてパスワードを生成したり、手動でパスワードを入力して保存・管理することができます。さらに、テーマの変更や保存されたパスワードの検索・削除機能、パスワードの暗号化保存やユーザー認証機能も提供しています。

### 機能一覧

1. **パスワード生成機能**
   - 大文字、小文字、数字、記号の使用を選択可能。
   - パスワードの長さを指定して、ランダムなパスワードを生成。
   - 生成されたパスワードは自動的にクリップボードにコピー。

2. **手動パスワード入力機能**
   - ユーザーが手動でパスワードを入力し、そのパスワードを管理リストに追加できる。
   - 既存のパスワードと同様に保存、検索、削除が可能。

3. **パスワード保存機能**
   - パスワード、識別名、メモを入力して保存。
   - 保存されたパスワードは、ファイルに保存され、アプリケーションを再起動しても維持される。

4. **パスワード暗号化保存機能**
   - パスワードを保存する際に、暗号化してファイルに保存します。これにより、保存されたパスワードが外部から読み取られるリスクを軽減します。

5. **パスワード強度評価機能**
   - 生成されたパスワードや手動で入力されたパスワードに対して、強度をリアルタイムで評価し、ユーザーに「弱い」「普通」「強い」といったフィードバックを提供します。

6. **ユーザー認証機能**
   - アプリケーションの起動時に、マスターパスワードを要求します。正しいパスワードを入力しないとアプリケーションにアクセスできません。初回起動時にマスターパスワードを設定し、次回以降はそのハッシュ値を用いて認証を行います。

7. **検索・フィルタリング機能**
   - 識別名またはメモに基づいてパスワードリストをフィルタリング。
   - 検索結果はリアルタイムでリストに反映される。

8. **パスワード削除機能**
   - リストから選択したパスワードを削除可能。
   - 削除前に確認メッセージを表示し、誤操作を防止。

9. **テーマ変更機能**
   - アプリケーションの外観を変更するためのテーマを選択可能。
   - テーマを適用すると、ウィンドウが再生成され、新しいテーマが反映される。

### 画面レイアウト

1. **マスターパスワード設定ウィンドウ**
   - **要素一覧**:
     - マスターパスワード入力ボックス
     - 確認用パスワード入力ボックス
     - 保存ボタン

2. **ユーザー認証ウィンドウ**
   - **要素一覧**:
     - マスターパスワード入力ボックス
     - ログインボタン

3. **メインウィンドウ**
   - **タイトル**: "PassMaster"
   - **要素一覧**:
     - 使用する文字種のチェックボックス（大文字、小文字、数字、記号）
     - パスワードの文字数入力ボックス
     - パスワード生成ボタン
     - パスワード表示エリア（手動入力可能）
     - パスワード強度表示エリア
     - 識別名とメモの入力ボックス
     - テーマ選択コンボボックスと適用ボタン
     - 保存ボタン、削除ボタン
     - ステータスメッセージ表示エリア
     - 検索フィルタと検索ボタン
     - パスワードリスト表示エリア

### 保存データ形式

- 保存されたパスワードデータは`passwords.json`ファイルに暗号化された形式で保存されます。
- 各パスワードエントリの構造:

  \`\`\`json
  {
    "識別名": "string",
    "パスワード": "string",
    "メモ": "string",
    "作成日時": "YYYY-MM-DD HH:MM:SS"
  }
  \`\`\`

### 操作フロー

1. **マスターパスワードの設定**
   - 初回起動時に、ユーザーはマスターパスワードを設定します。設定したパスワードはハッシュ化されて保存され、次回以降のログインに使用されます。

2. **ユーザー認証**
   - アプリケーション起動時に、保存されたマスターパスワードのハッシュ値と入力されたパスワードのハッシュ値を比較し、一致すればアプリケーションにアクセスできます。

3. **パスワード生成**
   - チェックボックスと文字数を設定し、「パスワード生成」ボタンをクリック。
   - 生成されたパスワードが表示エリアに表示され、クリップボードにコピーされます。
   - パスワード強度がリアルタイムで評価され、表示されます。

4. **手動パスワード入力**
   - 「パスワード」欄に手動でパスワードを入力。
   - 「識別名」と「メモ」を入力し、「保存する」ボタンをクリック。
   - 保存されたパスワードは暗号化されて保存されます。

5. **パスワードの検索・フィルタリング**
   - 「検索フィルタ」欄に識別名またはメモの一部を入力し、「検索」ボタンをクリック。
   - リストがフィルタリングされ、該当するパスワードが表示されます。

6. **パスワードの削除**
   - リストから削除したいパスワードを選択し、「削除」ボタンをクリック。
   - 確認メッセージに「はい」と回答すると、パスワードが削除され、リストが更新されます。

7. **テーマの変更**
   - 「テーマ選択」コンボボックスからテーマを選択し、「適用」ボタンをクリック。
   - ウィンドウが再生成され、選択したテーマが反映されます。